head
	meta(charset="UTF-8")
	meta(name="viewport" content="width=device-width, initial-scale=1.0")
	title Keith Barney â€” Design Tokens
	link(rel="stylesheet" href="main.css")
	script.
		// Theme toggle functionality
		(function() {
			// Get saved theme or default to dark
			const savedTheme = localStorage.getItem('theme') || 'dark';

			// Apply theme immediately to prevent flash
			// CSS: :root = light, [data-theme="dark"] = dark
			if (savedTheme === 'dark') {
				document.documentElement.setAttribute('data-theme', 'dark');
			}

			// Update toggle label after DOM loads
			document.addEventListener('DOMContentLoaded', function() {
				updateToggleLabel(savedTheme);
			});
		})();

		function toggleTheme() {
			const html = document.documentElement;
			const currentTheme = html.getAttribute('data-theme');
			const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

			if (newTheme === 'dark') {
				html.setAttribute('data-theme', 'dark');
			} else {
				html.removeAttribute('data-theme');
			}

			localStorage.setItem('theme', newTheme);
			updateToggleLabel(newTheme);
		}

		function updateToggleLabel(theme) {
			const label = document.querySelector('.theme-toggle__label');
			if (label) {
				label.textContent = theme === 'dark' ? 'Dark' : 'Light';
			}
			// Update semantic section theme label
			const semanticLabel = document.querySelector('.semantic-theme-label');
			if (semanticLabel) {
				semanticLabel.textContent = theme === 'dark' ? 'Dark' : 'Light';
			}
		}

		// Copy token name to clipboard with accessibility support
		function copyToken(tokenName, element) {
			navigator.clipboard.writeText(tokenName).then(function() {
				element.classList.add('copied');
				// Announce to screen readers
				const announcement = document.getElementById('copy-announcement');
				if (announcement) {
					announcement.textContent = 'Copied ' + tokenName + ' to clipboard';
				}
				setTimeout(function() {
					element.classList.remove('copied');
				}, 500);
			}).catch(function(err) {
				console.error('Failed to copy: ', err);
			});
		}

		// Handle keyboard events for copy buttons
		function handleCopyKeydown(event, tokenName, element) {
			if (event.key === 'Enter' || event.key === ' ') {
				event.preventDefault();
				copyToken(tokenName, element);
			}
		}
