//- Modal Component
//- Usage: +modal('modal-id', { title: 'Modal Title' })
//-          p Modal content here
//- Usage: +modal('modal-id', { size: 'lg', closeButton: true })

mixin modal(id, options = {})
  -
    const title = options.title || null
    const size = options.size || 'md'
    const closeButton = options.closeButton !== false

    let classes = ['modal', `modal--${size}`]

  .modal__backdrop(
    id=id
    class=classes.join(' ')
    role="dialog"
    aria-modal="true"
    aria-labelledby=title ? `${id}-title` : null
    hidden
  )
    .modal__container
      if title || closeButton
        .modal__header
          if title
            h2.modal__title(id=`${id}-title`)= title
          if closeButton
            button.modal__close(
              type="button"
              aria-label="Close modal"
              data-close-modal=id
            )
              span(aria-hidden="true") &times;

      .modal__body
        if block
          block

mixin modalFooter()
  .modal__footer
    if block
      block
